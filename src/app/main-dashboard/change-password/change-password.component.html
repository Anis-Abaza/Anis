<div class="row">
  <div class="col-md-12">
    <div class="main-card mb-3 card">
      <div class="card-body">
        <div
          *ngIf="!isSubmitted"
          class="mx-auto app-login-box col-sm-12 col-md-8 col-lg-6"
        >
          <h4>
            <div>Changer Votre Mot de passe</div>
            <span
              >Utilisez le formulaire ci-dessous pour saisir un nouveau.</span
            >
          </h4>
          <div>
            <form [formGroup]="resetPasswordForm" id="resetForm">
              <div class="form-row">
                <div class="col-md-12">
                  <div class="position-relative form-group">
                    <label for="exampleEmail" class=""
                      >Mot de passe actuel</label
                    ><input
                      name="password"
                      id="old"
                      placeholder="Ancien Mot de passe"
                      type="password"
                      formControlName="oldPassword"
                      class="form-control"
                      [(ngModel)]="old"
                      required
                    />
                  </div>
                  <div class="position-relative form-group">
                    <label for="exampleEmail" class="">Nouveau</label
                    ><input
                      name="password"
                      id="password"
                      placeholder="Nouveau Mot de passe"
                      type="password"
                      formControlName="newPassword"
                      class="form-control"
                      [(ngModel)]="password"
                      required
                    />
                  </div>
                  <div class="position-relative form-group">
                    <label for="exampleEmail" class="">Confirmation</label
                    ><input
                      name="confirmation"
                      id="confirmation"
                      placeholder="Confirmer Mot de passe"
                      type="password"
                      formControlName="confirmPassword"
                      class="form-control"
                      [(ngModel)]="confirm"
                      required
                    />
                  </div>
                </div>
              </div>
              <div class="mt-4 d-flex align-items-center">
                <h6 class="mb-0">
                  <a [routerLink]="['/login']" class="text-primary"
                    ><i class="pe-7s-info btn-icon-wrapper"></i> Non, pas
                    maintenant!</a
                  >
                </h6>
                <div class="ml-auto">
                  <button
                    class="btn btn-primary btn-lg"
                    type="submit"
                    (click)="changePassword()"
                  >
                    Confirmer
                  </button>
                </div>
              </div>
            </form>
            <div class="mb-3 progress" *ngIf="isLoading">
              <div
                class="progress-bar progress-bar-animated bg-focus progress-bar-striped"
                role="progressbar"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
                style="width: 100%;"
              ></div>
            </div>
          </div>
        </div>
        <div
          *ngIf="isSubmitted && isComplete"
          class="mx-auto app-login-box col-sm-12 col-md-8 col-lg-6"
        >
          <h4>
            <div class="text-success">
              Votre mot de passe a été changé avec succès
            </div>
            <span
              ><b
                >Veuillez vous connecter à nouveau avec un nouveau mot de
                passe.</b
              ></span
            >
          </h4>
          <!-- <a [routerLink]="['/login']" class="btn btn-primary btn-lg"
            >Connecter</a
          > -->
        </div>
        <br />
        <div
          *ngIf="!isComplete"
          class="mx-auto app-login-box col-lg-6 mbg-3 alert alert-danger alert-dismissible fade show"
          role="alert"
        >
          <span class="pr-2">
            <i class="fa fa-question-circle"></i>
          </span>
          Mot de passe actuel incorrect
        </div>
        <div
          id="password-strength-container"
          [ngClass]="{
            'mx-auto app-login-box col-lg-6 mbg-3 alert alert-warning alert-dismissible fade': true,
            show: checkedPwd
          }"
          role="alert"
        >
          <span class="pr-2">
            <i class="fa fa-question-circle"></i>
          </span>
          <span id="password-strength-status"
            >Mot de passe actuel incorrect</span
          >
        </div>
      </div>
    </div>
  </div>
</div>
